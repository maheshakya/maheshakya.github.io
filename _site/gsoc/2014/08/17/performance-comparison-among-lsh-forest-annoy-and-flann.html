<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    
    <meta name="description" content="">
    <title> Performance comparison among LSH Forest, ANNOY and FLANN › Espy Yonder</title>
    <link rel="canonical" href="http://maheshakya.github.io/gsoc/2014/08/17/performance-comparison-among-lsh-forest-annoy-and-flann.html">
    <link href="/main.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,200italic,300italic,400italic,600italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Gentium+Basic:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
    <link rel="alternate" type="application/rss+xml" title="Espy Yonder &raquo; Feed" href="/feed.xml">
    <script src="//maheshakya.disqus.com/embed.js" async></script>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50627295-1', 'maheshakya.github.io');
  ga('send', 'pageview');

</script>
  </head>
  <body>
    <header>
      
      <nav>
        <ul>
          <li><a href="/">Home</a></li><li><a href="/archive.html">Archive</a></li><li><a href="/categories.html">Categories</a></li><li><a href="/pages/about/index.html">About me</a></li>
        </ul>
      </nav>
    </header>
    <div><h1><a href="/">Espy Yonder</a></h1></div>
    <div>maheshakyas' personal website</div>
    <article>
      <header>
        <h2><a href="/gsoc/2014/08/17/performance-comparison-among-lsh-forest-annoy-and-flann.html">Performance comparison among LSH Forest, ANNOY and FLANN</a></h2>
        <p><time datetime="2014-08-17T00:00:00+05:30">Aug 17, 2014</time> • gsoc</p>
      </header>
      <div>
<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<p>Finally, it is time to compare performance of Locality Sensitive Hashing Forest(approximate nearest neighbor search implementation in <a href="http://scikit-learn.org/stable/">scikit-learn</a>), <a href="https://github.com/spotify/annoy">Spotify Annoy</a> and <a href="http://www.cs.ubc.ca/research/flann/">FLANN</a>.</p>

<h2 id="criteria">Criteria</h2>

<p>Synthetic datasets of different sizes (varying <code>n_samples</code> and <code>n_features</code>) are used for this evalutation. For each data set, following measures were calculated.</p>

<ol>
  <li>Index building time of each ANN (Approximate Nearest Neighbor) implementation.</li>
  <li>Accuracy of nearest neighbors queries with their query times.</li>
</ol>

<p>Python code used for this evaluation can be found in this <a href="https://gist.github.com/maheshakya/b7bcf915c9d5bab89d8d">Gist</a>. Parameters of 
<code>LSHForest</code> (<code>n_estimators=10</code> and <code>n_candidates=50</code>) are kept fixed during this experiment. Accuracies can be raised by tuning these 
parameters.</p>

<h2 id="results">Results</h2>

<p>For each dataset, two graphs have been plotted according to the measures expressed in the above section.
<img src="https://docs.google.com/drawings/d/1PqPDygNOpIIicm4YEdN5FwLgECzPSa2toAsGsczIUP0/pub?w=960&amp;h=720" alt="n_samples=1000, n_features=100" />
<img src="https://docs.google.com/drawings/d/1v7mtz_xC_9njA-d3rzUYYfbJrzKr0kX5-sBfVOj-yCs/pub?w=960&amp;h=720" alt="n_samples=1000, n_features=500" />
<img src="https://docs.google.com/drawings/d/1gl65_N8mKJPGFardWwUt-8WXtqYbIeJM2jbAuk5qKJg/pub?w=960&amp;h=720" alt="n_samples=6000, n_features=3000" />
<img src="https://docs.google.com/drawings/d/1GIIjyHOG03WxNOEHhF4p19uP_9JZ9ctyYRRJp2HvCp4/pub?w=960&amp;h=720" alt="n_samples=10000, n_features=100" />
<img src="https://docs.google.com/drawings/d/1DFA6i-s661Liplq_lysUyz0KvIH4CnByA5jsEuCw7ig/pub?w=960&amp;h=720" alt="n_samples=10000, n_features=500" />
<img src="https://docs.google.com/drawings/d/14ta-LAR9KdPRaTDDJgKWYHpPsVhqvxCs9rjwHStbRz0/pub?w=960&amp;h=720" alt="n_samples=10000, n_features=1000" />
<img src="https://docs.google.com/drawings/d/1KoQ3wXMb-rm4ZGW8d2mMGCcsvxGPU1lgSJTCA0IbRec/pub?w=960&amp;h=720" alt="n_samples=10000, n_features=6000" />
<img src="https://docs.google.com/drawings/d/1RIr-jf818iQIIaOOi5C_sX87ynAR6cBVI1FF25Wbq9o/pub?w=960&amp;h=720" alt="n_samples=50000, n_features=5000" />
<img src="https://docs.google.com/drawings/d/1onzy44K6Yk4CcX4msTGLJK61UFNOqkkEzZLH3yZrKtY/pub?w=960&amp;h=720" alt="n_samples=100000, n_features=1000" />
It is evident that index building times of LSH Forest and FLANN are almost incomparable to that of Annoy for almost all the datasets. Moreover, for larger datasets, LSH Forest outperforms Annoy at large margins with respect to accuracy and query speed. Observations from these graphs prove that LSH Forest is competitive with FLANN for large datasets.</p>



If you have any questions or comments, please post them below. If
you liked this post, you can share it with your followers
<a href="https://twitter.com/intent/tweet?url=http://maheshakya.github.io/gsoc/2014/08/17/performance-comparison-among-lsh-forest-annoy-and-flann.html&text=Performance comparison among LSH Forest, ANNOY and FLANN&via=Wmaheshakya" 
   target="_blank"> in Twitter</a> 
or with your friends 
<a href="https://facebook.com/sharer.php?u=http://maheshakya.github.io/gsoc/2014/08/17/performance-comparison-among-lsh-forest-annoy-and-flann.html" rel="nofollow" target="_blank" title="Share on Facebook"> in Facebook</a>


      </div>
      
      
      <div id="disqus_thread"></div>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
    </article>

    <footer>
      <span><a href="http://maheshakya.github.io">pruthuvi maheshakya wijewardena</a></span>
      <span><a href="https://github.com/maheshakya"><i class="fa fa-github-square"></i></a><a href="https://twitter.com/Wmaheshakya"><i class="fa fa-twitter-square"></i></a><a href="https://plus.google.com/u/0/+MaheshakyaWijewardena/"><i class="fa fa-google-plus-square"></i></a><a href="https://www.linkedin.com/in/maheshakya"><i class="fa fa-linkedin-square"></i></a><a href="https://www.facebook.com/pmaheshakya"><i class="fa fa-facebook-square"></i></a><a href="/feed.xml"><i class="fa fa-rss-square"></i></a></span>
      <span>&copy; 2015</span>
    </footer>
  </body>
</html>
