<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">

    <title> Performance evaluation of Approximate Nearest Neighbor search implementations - Part 1 </title>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50627295-1', 'maheshakya.github.io');
  ga('send', 'pageview');

</script>
  </head>


  <body>
  <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId      : '282511005256163',
          xfbml      : true,
          version    : 'v2.0'
        });
      };

      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/sdk.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
    </script>
    <header>
      <div class="inner">
        <h1 > <a href="/" style="color:white"> Espy Yonder </a></h1>  
        <h2>Maheshakyas' personal blog</h2>
        
        <a href="https://github.com/maheshakya" class="button"><small>View my profile on</small>GitHub</a>

      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          
          <h1>Performance evaluation of Approximate Nearest Neighbor search implementations - Part 1</h1>
<p class="meta">25 May 2014</p>
<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<p>This typifies the official instigation of my GSoC project. In my <a href="/gsoc/2014/05/18/preparing-a-bench-marking-data-set-using-singula-value-decomposition-on-movielens-data.html">previous post</a>, I have discussed how to create the bench marking data set which will be used from here on. 
I will discuss how the evaluation framework is designed to evaluate the performance of the existing approximate nearest neighbor search implementations. For this evaluation, I have chosen the following implementations:</p>

<ul>
<li>Spotify <a href="https://github.com/spotify/annoy">ANNOY</a></li>
<li><a href="http://www.cs.ubc.ca/research/flann/">FLANN</a> </li>
<li><a href="http://www.kgraph.org/">KGraph</a></li>
<li><a href="http://nearpy.io/">nearpy</a></li>
<li><a href="https://pypi.python.org/pypi/lshash/0.0.4dev">lshash</a></li>
</ul>

<h2>Evaluation framework</h2>

<p>There are three main considerations in this evaluation framework. </p>

<ol>
<li>Memory consumption</li>
<li>Precision</li>
<li>Query speed</li>
</ol>

<p>For each of these aspects, there are separated tests which I will explain in the upcoming sections. In addition to these, from <a href="http://scikit-learn.org/stable/">scikit-learn</a> community, another requirement emerged to consider the index building time in order to assist with incremental learning. This is an optimization which has to be done in the ANN version that will be implemented in <a href="http://scikit-learn.org/stable/">scikit-learn</a>. </p>

<p>Note: The evaluation framework will be run on a system with following configurations:
* Memory : 16 GB (1600 MHz)
* CPU    : Intel® Core™ i7-4700MQ CPU @ 2.40GHz × 8 </p>

<p>In this post, I will discuss the evaluation done for memory consumption.</p>

<h3>Memory consumption of existing ANN methods</h3>

<p>Memory consumption corresponds to the index building step in a nearest neighbor search data structure since it is the process which stores the data in the data structure accordingly. In this framework, there are two main aspects taken into account to express the memory consumption of an index building process. </p>

<ol>
<li><strong>Peak memory consumption</strong>: While the index building process takes place, there is a maximum amount of memory used. No amount of memory beyond this peak memory will be consumed during this process.</li>
<li><strong>Overall increment</strong>: This is the actual memory used by the data structure after the index building process. This may be less than or equal to the peak memory consumption.</li>
</ol>

<p>These two aspects of the above mentioned ANN implementations were measured. The results are as follows.</p>

<p><img src="https://docs.google.com/drawings/d/1gCLDnk_UJ-kk5bkY-g-jp1hnqO5GcDqusQch2OHw0VI/pub?w=668&amp;h=468" alt="Memory_usage_table"></p>

<p>Following graph illustrates the peak memory consumptions in log scale.
<img src="https://docs.google.com/drawings/d/1j7BjozhffmhVMbJHtymDYtlKFvxo1LQRQnHY2PHDIQU/pub?w=804&amp;h=614" alt="Peak_memory_usage"></p>

<p>Following graph illustrates the overall memory increments in log scale.
<img src="https://docs.google.com/drawings/d/1EhBe1c45BIn5tEs6hzqF8MNMzrYs_NZEivii8Wqs0A0/pub?w=808&amp;h=614" alt="Overall_memory_increment"></p>

<p>In the upcoming posts, I will discuss the other two aspects in the evaluation framework in detail and the performance of LSH-Forest implementation as well. </p>

<p>Cheers!</p>


If you have any questions or comments, please post them below. If
you liked this post, you can
<a href="https://twitter.com/intent/tweet?url=http://maheshakya.github.io//gsoc/2014/05/25/performance-evaluation-of-approximate-nearest-neighbor-search-implementations---part-1.html&text=Performance evaluation of Approximate Nearest Neighbor search implementations - Part 1&via=Wmaheshakya" 
   target="_blank">
  share it with your followers</a> 
or 
<a href="https://twitter.com/Wmaheshakya">
  follow me on Twitter</a>!
  <!-- Add Disqus comments. -->
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'maheshakya'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



          
        </section>

        <aside id="sidebar">
          <a href="/pages/about" class="button">about me</a>
          <a href="/feed.xml" class="button">RSS feed</a>
          <a href="https://github.com/maheshakya/maheshakya.github.io/archive/master.zip" class="button">
            <small>Download this blog</small>
            .zip file
          </a>

          <div class="fb-like" data-href="/gsoc/2014/05/25/performance-evaluation-of-approximate-nearest-neighbor-search-implementations---part-1.html" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>


        </aside>
      </div>
    </div>

    

  </body>
</html>